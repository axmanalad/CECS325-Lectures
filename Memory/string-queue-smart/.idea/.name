string_queue_smart